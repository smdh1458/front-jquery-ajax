<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery Ajax</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        #result {
            margin-top: 20px;

        }
    </style>
</head>
<body>
    <h1>AJAX 요청</h1>
<div id="result">데이터 표시할 공간</div>
<button id="dataLoading">데이터 가져오기</button>
<script>
    $('#dataLoading').click(function (){
        $.ajax({
            url: 'https://jsonplaceholder.typicode.com/posts/1', //API URL
            method: 'GET',
            // controller에서 데이터를 주고 받을 때
            /*
            data : {
                controller로 전달할 이름 : javascript로 전달받은 id이름,
                controller로 전달할 이름 : javascript로 전달받은 id이름,
            }
             */
            success:
                function (data){
                    $('#result').html('<h1 style="color:orange;">'+data.userId+'</h1>');
                    $('#result').html('<h3>' + data.title  + '</h3>'); //userId 덮어쓰기가 됨

                    // 버튼을 클릭했을 때 body를 p태그 형태로 보여주기
                    $('#result').html('<h1 style="color:orange;">'+data.userId+'</h1>'+'<h3>' + data.title  + '</h3>'
                    +'<p>'+data.body+'</p>');
                    // 한줄쓰기로 해결

                    /*$('#result').text('<h3>' + data.title  + '</h3>');
                        text는 글자형태로 출력
                        출력결과 <h3> data.title </h3>
                        ********************************************************
                        .append()   와   .html & .text()     의 차이점

                        .append() = 이어서 태그 추가를 진행함

                        .html & .text() = 기존에 작성된 자리에 덮어쓰기를 진행하므로
                                            () 를 열고 닫은 공간 안에서 추가하고자 하는 모든 코드를 작성
                     */
                }
        })
    })


    $.ajax({
        url:'요청할주소', // controller 에서 url = endpoint = api 주소
        method: 'GET', // 요청방식 GET POST PUT DELETE
        success:
            function (data) {
                console.log("데이터 가져오기 성공!");
            },
        error: function (err) {
            console.error('가져오는데 문제가 발생했습니다.');
        }
    })
/*
    https://jsonplaceholder.typicode.com/
    jsonplaceholder 개발자들이 API 주소를 테스트하거나 학습할 수 있도록 제공하는 무료 온라인서비스

        endpoint 주소
        /post       :게시물 데이터 제공 주소
            └───────── 모든 게시물이 아니라 특정 게시물만 가져오길 원한다면
                                                                            /post/number 로 가져오기
        /comments   : 게시물의 댓글 데이터 제공 주소
        /albums     : 앨범데이터 제공 주소
        /photos     : 사진데이터 제공 주소
        /todos      : 할 일 데이터 제공 주소
        /users      : 사용자 데이터 제공 주소
 */
</script>
</body>
</html>